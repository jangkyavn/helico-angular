<nz-card class="table-card" nzSize="small" nzTitle="Danh sách dự án" [nzExtra]="extraTemplate">
  <div nz-row class="table-actions">
    <div nz-col nzXs="24" nzSm="24" nzMd="12" nzLg="12" nzXl="12">
      <nz-input-group nzSearch [nzAddOnAfter]="suffixIconButton">
        <input type="text" nz-input placeholder="Tìm kiếm..." #keyword (keyup.enter)="search(keyword.value)" />
      </nz-input-group>
      <ng-template #suffixIconButton>
        <button nz-button nzType="primary" nzSearch (click)="search(keyword.value)">
          <i nz-icon nzType="search"></i>
        </button>
      </ng-template>
    </div>
    <div nz-col nzXs="24" nzSm="24" nzMd="12" nzLg="12" nzXl="12" class="text-right">
      <button nz-button nzType="primary" (click)="create()">
        <i nz-icon nzType="plus" nzTheme="outline"></i> Thêm mới
      </button>
    </div>
  </div>
  <nz-table nzShowSizeChanger nzBordered nzSize="small" [nzData]="listOfData" [nzFrontPagination]="false"
    [nzLoading]="loading" [nzTotal]="listOfData.length" (nzQueryParams)="onQueryParamsChange($event)">
    <thead>
      <tr>
        <th style="width: 5%">STT</th>
        <th style="width: 20%">Tiêu đề</th>
        <th style="width: 15%">Hình ảnh</th>
        <th style="width: 30%">Mô tả</th>
        <th style="width: 20%">Đường dẫn</th>
        <th style="width: 10%">Trạng thái</th>
      </tr>
    </thead>
    <tbody class="cursor-row">
      <tr *ngFor="let data of listOfData; let i=index" (contextmenu)="contextMenu($event, menu)"
        (dblclick)="update(data)">
        <td>{{ data?.stt }}</td>
        <td>{{ pagingParams.languageId === 'vn' ? data?.title_VN : data?.title_EN }}</td>
        <td>
          <img [src]="data?.imageBase64" width="100px" />
        </td>
        <td>{{ pagingParams.languageId === 'vn' ? data?.description_VN : data?.description_EN }}</td>
        <td>{{ pagingParams.languageId === 'vn' ? data?.url_VN : data?.url_EN }}</td>
        <td>
          {{ pagingParams.languageId === 'vn' ? (data?.status ? <nz-badge nzStatus="success">Kích hoạt</nz-badge> : <nz-badge nzStatus="danger">Khóa</nz-badge>) : (data?.status ? 'Active' : 'Lock') }}
        </td>
        <nz-dropdown-menu #menu="nzDropdownMenu">
          <ul nz-menu>
            <li nz-menu-item (click)="update(data)">
              <i nz-icon nzType="edit" nzTheme="outline"></i>Sửa
            </li>
            <li nz-menu-item (click)="delete(data.id)">
              <i nz-icon nzType="delete" nzTheme="outline"></i>Xóa
            </li>
          </ul>
        </nz-dropdown-menu>
      </tr>
    </tbody>
  </nz-table>
</nz-card>
<ng-template #extraTemplate>
  <nz-select nzSize="small" [(ngModel)]="pagingParams.languageId" (ngModelChange)="changeLanguage($event)">
    <nz-option nzValue="vn" nzLabel="Việt Nam"></nz-option>
    <nz-option nzValue="en" nzLabel="English"></nz-option>
  </nz-select>
</ng-template>